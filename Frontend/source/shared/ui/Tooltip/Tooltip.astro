---
interface Props {
	text: string;
	color?: "primary" | "regular";
	position?: "right" | "top" | "bottom" | "left";
	class?: string;
}

const { text, color = "regular", position = "right", class: className } = Astro.props;
---

<span class:list={["tooltip", `tooltip-${position}`, `tooltip-color-${color}`, className]}>
	{text}
</span>

<style lang="sass">
	@use '@shared/styles/vars' as *

	.tooltip
		position: absolute
		background-color: var(--bg-color)
		color: var(--text-color)
		padding: 0.5rem 1rem
		border: 1px solid var(--border-color)
		border-radius: 8px
		font-size: 0.85rem
		font-weight: 500
		white-space: nowrap
		opacity: 0
		visibility: hidden
		transition: all 0.2s ease
		pointer-events: none
		z-index: 1001

		&.tooltip-color-primary
			border-color: var(--primary-color)
			color: var(--primary-color)

		&.tooltip-color-regular
			border-color: var(--border-color)
			color: var(--text-color)

		// Default Right Position
		&.tooltip-right
			left: calc(100% + 10px)
			top: 50%
			transform: translateY(-50%) translateX(-10px)

		&.tooltip-top
			bottom: calc(100% + 10px)
			left: 50%
			transform: translateX(-50%) translateY(10px)

		&.tooltip-bottom
			top: calc(100% + 10px)
			left: 50%
			transform: translateX(-50%) translateY(-10px)

		&.tooltip-left
			right: calc(100% + 10px)
			top: 50%
			transform: translateY(-50%) translateX(10px)

		// Show state (handled by parent hover usually, but we define the target state here for reference or if we add JS later)
		// The parent needs to target .tooltip to change these properties:
		// opacity: 1
		// visibility: visible
		// transform: translateY(-50%) translateX(0)
</style>
