---
interface Props {
	id?: string;
	type?: "button" | "submit" | "reset";
	class?: string;
	variant?: "sharp" | "smooth" | "rounded";
	text: string;
	color: "primary" | "regular";
	[key: string]: any;
}

const {
	id,
	type = "button",
	class: className,
	variant = "sharp",
	color = "primary",
	text,
	...rest
} = Astro.props;
---

<button
	id={id}
	type={type}
	class:list={["custom-btn", `btn-${variant}`, `btn-color-${color}`, className]}
	{...rest}
>
	<span class="btn-text">{text}</span>
</button>

<style lang="sass">
	@use '@shared/styles/vars' as *

	.custom-btn
		position: relative
		padding: 0.8rem 2rem
		font-size: 1rem
		font-weight: 600
		color: var(--text-color)
		background: transparent
		border: 1px solid var(--border-color)
		cursor: pointer
		overflow: hidden
		transition: all 0.3s ease
		z-index: 1

	.btn-sharp
		border-radius: 0px

	.btn-smooth
		border-radius: 8px

	.btn-rounded
		border-radius: 50px

	.btn-color-primary
		border-color: var(--primary-color)
		color: var(--primary-color)

	.btn-color-regular
		border-color: var(--border-color)

	.custom-btn
		// Hover filling animation
		&::before
			content: ""
			position: absolute
			top: 0
			left: 0
			width: 0%
			height: 100%
			background-color: var(--primary-color)
			transition: width 0.3s ease
			z-index: -1

		&:hover
			color: #fff
			border-color: var(--primary-color)

			&::before
				width: 100%

		// Active state scaling up
		&:active
			transform: scale(1.05)

	.btn-text
		position: relative
		z-index: 2
</style>
